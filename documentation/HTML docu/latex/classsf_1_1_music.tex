\hypertarget{classsf_1_1_music}{}\doxysection{sf\+::Music Class Reference}
\label{classsf_1_1_music}\index{sf::Music@{sf::Music}}


Streamed music played from an audio file.  




{\ttfamily \#include $<$Music.\+hpp$>$}

Inheritance diagram for sf\+::Music\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{classsf_1_1_music}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structsf_1_1_music_1_1_span}{Span}}
\begin{DoxyCompactList}\small\item\em Structure defining a time range using the template type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classsf_1_1_music_a0bc787d8e022b3a9b89cf2c28befd42e}\label{classsf_1_1_music_a0bc787d8e022b3a9b89cf2c28befd42e}} 
\mbox{\hyperlink{classsf_1_1_music_a0bc787d8e022b3a9b89cf2c28befd42e}{Music}} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsf_1_1_music_a4c65860fed2f01d0eaa6c4199870414b}\label{classsf_1_1_music_a4c65860fed2f01d0eaa6c4199870414b}} 
\mbox{\hyperlink{classsf_1_1_music_a4c65860fed2f01d0eaa6c4199870414b}{$\sim$\+Music}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}{open\+From\+File}} (const std\+::string \&filename)
\begin{DoxyCompactList}\small\item\em Open a music from an audio file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsf_1_1_music_ae93b21bcf28ff0b5fec458039111386e}{open\+From\+Memory}} (const void $\ast$data, std\+::size\+\_\+t size\+In\+Bytes)
\begin{DoxyCompactList}\small\item\em Open a music from an audio file in memory. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classsf_1_1_music_a4e55d1910a26858b44778c26b237d673}{open\+From\+Stream}} (\mbox{\hyperlink{classsf_1_1_input_stream}{Input\+Stream}} \&stream)
\begin{DoxyCompactList}\small\item\em Open a music from an audio file in a custom stream. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classsf_1_1_time}{Time}} \mbox{\hyperlink{classsf_1_1_music_a288ef6f552a136b0e56952dcada3d672}{get\+Duration}} () const
\begin{DoxyCompactList}\small\item\em Get the total duration of the music. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structsf_1_1_music_1_1_span}{Time\+Span}} \mbox{\hyperlink{classsf_1_1_music_aae3451cad5c16ee6a6e124e62ed61361}{get\+Loop\+Points}} () const
\begin{DoxyCompactList}\small\item\em Get the positions of the of the sound\textquotesingle{}s looping sequence. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}{set\+Loop\+Points}} (\mbox{\hyperlink{structsf_1_1_music_1_1_span}{Time\+Span}} time\+Points)
\begin{DoxyCompactList}\small\item\em Sets the beginning and end of the sound\textquotesingle{}s looping sequence using \mbox{\hyperlink{classsf_1_1_time}{sf\+::\+Time}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual bool \mbox{\hyperlink{classsf_1_1_music_aca1bcb4e5d56a854133e74bd86374463}{on\+Get\+Data}} (\mbox{\hyperlink{structsf_1_1_sound_stream_1_1_chunk}{Chunk}} \&data)
\begin{DoxyCompactList}\small\item\em Request a new chunk of audio samples from the stream source. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classsf_1_1_music_a15119cc0419c16bb334fa0698699c02e}{on\+Seek}} (\mbox{\hyperlink{classsf_1_1_time}{Time}} time\+Offset)
\begin{DoxyCompactList}\small\item\em Change the current playing position in the stream source. \end{DoxyCompactList}\item 
virtual Int64 \mbox{\hyperlink{classsf_1_1_music_aa68a64bdaf5d16e9ed64f202f5c45e03}{on\+Loop}} ()
\begin{DoxyCompactList}\small\item\em Change the current playing position in the stream source to the loop offset. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
Streamed music played from an audio file. 

Musics are sounds that are streamed rather than completely loaded in memory.

This is especially useful for compressed musics that usually take hundreds of MB when they are uncompressed\+: by streaming it instead of loading it entirely, you avoid saturating the memory and have almost no loading delay. This implies that the underlying resource (file, stream or memory buffer) must remain valid for the lifetime of the \mbox{\hyperlink{classsf_1_1_music}{sf\+::\+Music}} object.

Apart from that, a \mbox{\hyperlink{classsf_1_1_music}{sf\+::\+Music}} has almost the same features as the \mbox{\hyperlink{classsf_1_1_sound_buffer}{sf\+::\+Sound\+Buffer}} / \mbox{\hyperlink{classsf_1_1_sound}{sf\+::\+Sound}} pair\+: you can play/pause/stop it, request its parameters (channels, sample rate), change the way it is played (pitch, volume, 3D position, ...), etc.

As a sound stream, a music is played in its own thread in order not to block the rest of the program. This means that you can leave the music alone after calling \mbox{\hyperlink{classsf_1_1_sound_stream_afdc08b69cab5f243d9324940a85a1144}{play()}}, it will manage itself very well.

Usage example\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{comment}{// Declare a new music}}
\DoxyCodeLine{\mbox{\hyperlink{classsf_1_1_music}{sf::Music}} music;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Open it from an audio file}}
\DoxyCodeLine{\textcolor{keywordflow}{if} (!music.\mbox{\hyperlink{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}{openFromFile}}(\textcolor{stringliteral}{"{}music.ogg"{}}))}
\DoxyCodeLine{\{}
\DoxyCodeLine{    \textcolor{comment}{// error...}}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Change some parameters}}
\DoxyCodeLine{music.\mbox{\hyperlink{classsf_1_1_sound_source_a0480257ea25d986eba6cc3c1a6f8d7c2}{setPosition}}(0, 1, 10); \textcolor{comment}{// change its 3D position}}
\DoxyCodeLine{music.\mbox{\hyperlink{classsf_1_1_sound_source_a72a13695ed48b7f7b55e7cd4431f4bb6}{setPitch}}(2);           \textcolor{comment}{// increase the pitch}}
\DoxyCodeLine{music.\mbox{\hyperlink{classsf_1_1_sound_source_a2f192f2b49fb8e2b82f3498d3663fcc2}{setVolume}}(50);         \textcolor{comment}{// reduce the volume}}
\DoxyCodeLine{music.\mbox{\hyperlink{classsf_1_1_sound_stream_a43fade018ffba7e4f847a9f00b353f3d}{setLoop}}(\textcolor{keyword}{true});         \textcolor{comment}{// make it loop}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// Play it}}
\DoxyCodeLine{music.\mbox{\hyperlink{classsf_1_1_sound_stream_afdc08b69cab5f243d9324940a85a1144}{play}}();}

\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_sound}{sf\+::\+Sound}}, \mbox{\hyperlink{classsf_1_1_sound_stream}{sf\+::\+Sound\+Stream}} 
\end{DoxySeeAlso}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classsf_1_1_music_a288ef6f552a136b0e56952dcada3d672}\label{classsf_1_1_music_a288ef6f552a136b0e56952dcada3d672}} 
\index{sf::Music@{sf::Music}!getDuration@{getDuration}}
\index{getDuration@{getDuration}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{getDuration()}{getDuration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classsf_1_1_time}{Time}} sf\+::\+Music\+::get\+Duration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the total duration of the music. 

\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{classsf_1_1_music}{Music}} duration 
\end{DoxyReturn}
\mbox{\Hypertarget{classsf_1_1_music_aae3451cad5c16ee6a6e124e62ed61361}\label{classsf_1_1_music_aae3451cad5c16ee6a6e124e62ed61361}} 
\index{sf::Music@{sf::Music}!getLoopPoints@{getLoopPoints}}
\index{getLoopPoints@{getLoopPoints}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{getLoopPoints()}{getLoopPoints()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structsf_1_1_music_1_1_span}{Time\+Span}} sf\+::\+Music\+::get\+Loop\+Points (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the positions of the of the sound\textquotesingle{}s looping sequence. 

\begin{DoxyReturn}{Returns}
Loop \mbox{\hyperlink{classsf_1_1_time}{Time}} position class.
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
Since \mbox{\hyperlink{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}{set\+Loop\+Points()}} performs some adjustments on the provided values and rounds them to internal samples, a call to \mbox{\hyperlink{classsf_1_1_music_aae3451cad5c16ee6a6e124e62ed61361}{get\+Loop\+Points()}} is not guaranteed to return the same times passed into a previous call to \mbox{\hyperlink{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}{set\+Loop\+Points()}}. However, it is guaranteed to return times that will map to the valid internal samples of this \mbox{\hyperlink{classsf_1_1_music}{Music}} if they are later passed to \mbox{\hyperlink{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}{set\+Loop\+Points()}}.
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}{set\+Loop\+Points}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classsf_1_1_music_aca1bcb4e5d56a854133e74bd86374463}\label{classsf_1_1_music_aca1bcb4e5d56a854133e74bd86374463}} 
\index{sf::Music@{sf::Music}!onGetData@{onGetData}}
\index{onGetData@{onGetData}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{onGetData()}{onGetData()}}
{\footnotesize\ttfamily virtual bool sf\+::\+Music\+::on\+Get\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsf_1_1_sound_stream_1_1_chunk}{Chunk}} \&}]{data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Request a new chunk of audio samples from the stream source. 

This function fills the chunk from the next samples to read from the audio file.


\begin{DoxyParams}{Parameters}
{\em data} & Chunk of data to fill\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True to continue playback, false to stop 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classsf_1_1_sound_stream_a968ec024a6e45490962c8a1121cb7c5f}{sf\+::\+Sound\+Stream}}.

\mbox{\Hypertarget{classsf_1_1_music_aa68a64bdaf5d16e9ed64f202f5c45e03}\label{classsf_1_1_music_aa68a64bdaf5d16e9ed64f202f5c45e03}} 
\index{sf::Music@{sf::Music}!onLoop@{onLoop}}
\index{onLoop@{onLoop}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{onLoop()}{onLoop()}}
{\footnotesize\ttfamily virtual Int64 sf\+::\+Music\+::on\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Change the current playing position in the stream source to the loop offset. 

This is called by the underlying \mbox{\hyperlink{classsf_1_1_sound_stream}{Sound\+Stream}} whenever it needs us to reset the seek position for a loop. We then determine whether we are looping on a loop point or the end-\/of-\/file, perform the seek, and return the new position.

\begin{DoxyReturn}{Returns}
The seek position after looping (or -\/1 if there\textquotesingle{}s no loop) 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{classsf_1_1_sound_stream_a3f717d18846f261fc375d71d6c7e41da}{sf\+::\+Sound\+Stream}}.

\mbox{\Hypertarget{classsf_1_1_music_a15119cc0419c16bb334fa0698699c02e}\label{classsf_1_1_music_a15119cc0419c16bb334fa0698699c02e}} 
\index{sf::Music@{sf::Music}!onSeek@{onSeek}}
\index{onSeek@{onSeek}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{onSeek()}{onSeek()}}
{\footnotesize\ttfamily virtual void sf\+::\+Music\+::on\+Seek (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsf_1_1_time}{Time}}}]{time\+Offset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [virtual]}}



Change the current playing position in the stream source. 


\begin{DoxyParams}{Parameters}
{\em time\+Offset} & New playing position, from the beginning of the music \\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classsf_1_1_sound_stream_a907036dd2ca7d3af5ead316e54b75997}{sf\+::\+Sound\+Stream}}.

\mbox{\Hypertarget{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}\label{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}} 
\index{sf::Music@{sf::Music}!openFromFile@{openFromFile}}
\index{openFromFile@{openFromFile}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{openFromFile()}{openFromFile()}}
{\footnotesize\ttfamily bool sf\+::\+Music\+::open\+From\+File (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{filename }\end{DoxyParamCaption})}



Open a music from an audio file. 

This function doesn\textquotesingle{}t start playing the music (call \mbox{\hyperlink{classsf_1_1_sound_stream_afdc08b69cab5f243d9324940a85a1144}{play()}} to do so). See the documentation of \mbox{\hyperlink{classsf_1_1_input_sound_file}{sf\+::\+Input\+Sound\+File}} for the list of supported formats.

\begin{DoxyWarning}{Warning}
Since the music is not loaded at once but rather streamed continuously, the file must remain accessible until the \mbox{\hyperlink{classsf_1_1_music}{sf\+::\+Music}} object loads a new music or is destroyed.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em filename} & Path of the music file to open\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if loading succeeded, false if it failed
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_music_ae93b21bcf28ff0b5fec458039111386e}{open\+From\+Memory}}, \mbox{\hyperlink{classsf_1_1_music_a4e55d1910a26858b44778c26b237d673}{open\+From\+Stream}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classsf_1_1_music_ae93b21bcf28ff0b5fec458039111386e}\label{classsf_1_1_music_ae93b21bcf28ff0b5fec458039111386e}} 
\index{sf::Music@{sf::Music}!openFromMemory@{openFromMemory}}
\index{openFromMemory@{openFromMemory}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{openFromMemory()}{openFromMemory()}}
{\footnotesize\ttfamily bool sf\+::\+Music\+::open\+From\+Memory (\begin{DoxyParamCaption}\item[{const void $\ast$}]{data,  }\item[{std\+::size\+\_\+t}]{size\+In\+Bytes }\end{DoxyParamCaption})}



Open a music from an audio file in memory. 

This function doesn\textquotesingle{}t start playing the music (call \mbox{\hyperlink{classsf_1_1_sound_stream_afdc08b69cab5f243d9324940a85a1144}{play()}} to do so). See the documentation of \mbox{\hyperlink{classsf_1_1_input_sound_file}{sf\+::\+Input\+Sound\+File}} for the list of supported formats.

\begin{DoxyWarning}{Warning}
Since the music is not loaded at once but rather streamed continuously, the {\itshape data} buffer must remain accessible until the \mbox{\hyperlink{classsf_1_1_music}{sf\+::\+Music}} object loads a new music or is destroyed. That is, you can\textquotesingle{}t deallocate the buffer right after calling this function.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em data} & Pointer to the file data in memory \\
\hline
{\em size\+In\+Bytes} & Size of the data to load, in bytes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if loading succeeded, false if it failed
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}{open\+From\+File}}, \mbox{\hyperlink{classsf_1_1_music_a4e55d1910a26858b44778c26b237d673}{open\+From\+Stream}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classsf_1_1_music_a4e55d1910a26858b44778c26b237d673}\label{classsf_1_1_music_a4e55d1910a26858b44778c26b237d673}} 
\index{sf::Music@{sf::Music}!openFromStream@{openFromStream}}
\index{openFromStream@{openFromStream}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{openFromStream()}{openFromStream()}}
{\footnotesize\ttfamily bool sf\+::\+Music\+::open\+From\+Stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classsf_1_1_input_stream}{Input\+Stream}} \&}]{stream }\end{DoxyParamCaption})}



Open a music from an audio file in a custom stream. 

This function doesn\textquotesingle{}t start playing the music (call \mbox{\hyperlink{classsf_1_1_sound_stream_afdc08b69cab5f243d9324940a85a1144}{play()}} to do so). See the documentation of \mbox{\hyperlink{classsf_1_1_input_sound_file}{sf\+::\+Input\+Sound\+File}} for the list of supported formats.

\begin{DoxyWarning}{Warning}
Since the music is not loaded at once but rather streamed continuously, the {\itshape stream} must remain accessible until the \mbox{\hyperlink{classsf_1_1_music}{sf\+::\+Music}} object loads a new music or is destroyed.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em stream} & Source stream to read from\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if loading succeeded, false if it failed
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_music_a3edc66e5f5b3f11e84b90eaec9c7d7c0}{open\+From\+File}}, \mbox{\hyperlink{classsf_1_1_music_ae93b21bcf28ff0b5fec458039111386e}{open\+From\+Memory}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}\label{classsf_1_1_music_ae7b339f0a957dfad045f3f28083a015e}} 
\index{sf::Music@{sf::Music}!setLoopPoints@{setLoopPoints}}
\index{setLoopPoints@{setLoopPoints}!sf::Music@{sf::Music}}
\doxysubsubsection{\texorpdfstring{setLoopPoints()}{setLoopPoints()}}
{\footnotesize\ttfamily void sf\+::\+Music\+::set\+Loop\+Points (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structsf_1_1_music_1_1_span}{Time\+Span}}}]{time\+Points }\end{DoxyParamCaption})}



Sets the beginning and end of the sound\textquotesingle{}s looping sequence using \mbox{\hyperlink{classsf_1_1_time}{sf\+::\+Time}}. 

Loop points allow one to specify a pair of positions such that, when the music is enabled for looping, it will seamlessly seek to the beginning whenever it encounters the end. Valid ranges for time\+Points.\+offset and time\+Points.\+length are \mbox{[}0, Dur) and (0, Dur-\/offset\mbox{]} respectively, where Dur is the value returned by \mbox{\hyperlink{classsf_1_1_music_a288ef6f552a136b0e56952dcada3d672}{get\+Duration()}}. Note that the EOF \char`\"{}loop point\char`\"{} from the end to the beginning of the stream is still honored, in case the caller seeks to a point after the end of the loop range. This function can be safely called at any point after a stream is opened, and will be applied to a playing sound without affecting the current playing offset.

\begin{DoxyWarning}{Warning}
Setting the loop points while the stream\textquotesingle{}s status is Paused will set its status to Stopped. The playing offset will be unaffected.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em time\+Points} & The definition of the loop. Can be any time points within the sound\textquotesingle{}s length\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{classsf_1_1_music_aae3451cad5c16ee6a6e124e62ed61361}{get\+Loop\+Points}} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+GALAGA/\+Galaga/include/\+SFML/\+Audio/Music.\+hpp\end{DoxyCompactItemize}
